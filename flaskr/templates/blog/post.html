{% extends 'base.html' %}

{% block content %}
<article class="post">
  <header>
    <div>
      <h1>{{ post.title }}</h1>
      <div class="about">by {{ post.author.username }} on {{ post.created.strftime('%Y-%m-%d') }}</div>
    </div>
    <div id="user-data" liked-by-user="{{ is_liked | tojson }}"></div>
    {% if g.user.id != post.author.id %}
    {% if is_liked %}
    <a id="like" href="#" onclick="toggleLike({{ post.id }}); return false;">Unlike</a>
    {% else %}
    <a id="like" href="#" onclick="toggleLike({{ post.id }}); return false;">Like</a>
    {% endif %}
    {% endif %}
    {% if g.user.id == post.author.id %}
    <a class="action" href="{{ url_for('blog.update', id=post.id) }}">Edit</a>
    {% endif %}
  </header>
  <p class="body">{{ post.content.body }}</p>
</article>
{% endblock %}