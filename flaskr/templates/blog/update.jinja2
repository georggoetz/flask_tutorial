{% extends 'base.jinja2' %}

{% block header %}
{% endblock %}

{% block content %}
<div class="card">
  <h1 class="card__heading" id="form-title">{% block title %}Edit "{{ post.title }}"{% endblock %}</h1>
  <form method="post" class="edit-form" aria-labelledby="form-title">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    <div class="edit-form__field">
      <label for="title" class="edit-form__label">Title</label>
      <input class="input edit-form__input" name="title" id="title" value="{{ request.form['title'] or post.title }}" required aria-required="true">
    </div>
    <div class="edit-form__field">
      <label for="body" class="edit-form__label">Body</label>
      <textarea class="textarea edit-form__textarea" name="body" id="body" rows="12" aria-required="true">
        {{ request.form['body'] or post.content.body }}
      </textarea>
    </div>
    <div class="edit-form__actions">
      <input class="button edit-form__submit" type="submit" value="Save">
      <form action="{{ url_for('blog.delete', id=post.id) }}" method="post" style="display:inline;">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
        <input class="button edit-form__delete" type="submit" value="Delete" onclick="return confirm('Are you sure?');" aria-label="Delete post">
      </form>
    </div>
  </form>
</div>
{% endblock %}