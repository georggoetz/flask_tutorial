{% extends 'base.jinja2' %}

{% block content %}
<article class="post">
  </div>
  <header>
    <div>
      <h1>{{ post.title }}</h1>
      <div class="about">by {{ post.author.username }} on {{ post.created.strftime('%Y-%m-%d') }}</div>
    </div>
    {% if g.user and g.user.id == post.author.id %}
    <a class="action" href="{{ url_for('blog.update', id=post.id) }}">Edit</a>
    {% endif %}
  </header>
  <section>
    <x-likes liked="{{ 'true' if g.user and g.user.likes_post(post) else 'false' }}" 
             count="{{ post.like_count }}"
             url="{{ url_for('blog_api.like', id=post.id) }}" 
             disabled="{{ 'true' if not g.user else 'false' }}">
    </x-likes>
  </section>
  <section>
    <p class="body">{{ post.content.body }}</p>
  </section>
</article>
{% endblock %}